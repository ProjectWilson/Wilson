<ion-header>
  <ion-navbar>
    <ion-title text-center>
      Gespreksformulier.
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>

	<ion-item *ngFor="let student of gebruikers | async; let i = index" hidden>
		<ion-input [(ngModel)]="studentenlijst.studentnummer" value={{student.studentnummer}}></ion-input>
		<ion-input [(ngModel)]="studentenlijst.roepnaam" value={{student.roepnaam}}></ion-input>
		<ion-input [(ngModel)]="studentenlijst.voorvoegsel" value={{student.voorvoegsel}}></ion-input>
		<ion-input [(ngModel)]="studentenlijst.achternaam" value={{student.achternaam}}></ion-input>
		<ion-input [(ngModel)]="studentenlijst.telefoon" value={{student.telefoon}}></ion-input>
		<ion-input [(ngModel)]="studentenlijst.woonplaats" value={{student.woonplaats}}></ion-input>
		<ion-input [(ngModel)]="studentenlijst.opleiding" value={{student.opleiding}}></ion-input>
		<ion-input [(ngModel)]="studentenlijst.bpvbegelijder" value={{student.bpv-begelijder}}></ion-input>
		<ion-input [(ngModel)]="studentenlijst.email" value={{student.email}}></ion-input>
		<ion-input [(ngModel)]="studentenlijst.praktijkopleider" value={{student.praktijkopleider}}></ion-input>
		<ion-input [(ngModel)]="studentenlijst.bedrijf" value={{student.bedrijf}}></ion-input>
		<ion-input [(ngModel)]="studentenlijst.bpv-telefoon" value={{student.bpv-telefoon}}></ion-input>
	</ion-item>
	


	<datalist id="studentenlijst">
		<option *ngFor="let student of gebruikers | async" value={{student.studentnummer}}>
	</datalist>

	<ion-input list="studentenlijst" placeholder="Leerlingnummer" [(ngModel)]="gesprek.studentnummer" (change)="autofill()"></ion-input>


  <form (ngSubmit)="logForm(gesprek)">
      <ion-item>
        <ion-label floating>Naam Student</ion-label>
        <ion-input type="text" [(ngModel)]="gesprek.naam" name="naam"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label floating>Studentnummer</ion-label>
        <ion-input type="text" [(ngModel)]="gesprek.studentnummer" name="studentnummer"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label floating>BPV Docent</ion-label>
        <ion-input type="text" [(ngModel)]="gesprek.bpvdocent" name="bpvdocent"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label floating>BPV Bedrijf</ion-label>
        <ion-input type="text" [(ngModel)]="gesprek.bpvbedrijf" name="bpvbedrijf"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label floating>Praktijkopleider</ion-label>
        <ion-input type="text" [(ngModel)]="gesprek.praktijkopleider" name="praktijkopleider"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label floating>Beoordeling</ion-label>
        <ion-textarea [(ngModel)]="gesprek.beoordeling" name="beoordeling"></ion-textarea>
      </ion-item>
      <ion-item>
        <ion-label>Datum</ion-label>
        <ion-input type="date" [(ngModel)]="gesprek.datum" name="datum"></ion-input>
        </ion-item>
      <ion-item>
        <ion-label>Akkoord</ion-label>
        <ion-checkbox [(ngModel)]="gesprek.akkoord" name="akkoord"></ion-checkbox>
      </ion-item>
      <button ion-button type="submit" block>Upload Gespreksformulier&nbsp;<ion-icon name='add-circle'></ion-icon></button>
    </form>

  <ion-list>
    <ion-item *ngFor="let form of forms | async">
        Studentnaam: {{form.naam}} <button ion-button id='exportButton' (click)='download(form)' large>Export&nbsp;<ion-icon name='download'></ion-icon></button>
        <br />
        BPV Docent: {{form.bpvdocent}}
        <br />
        BPV Bedrijf: {{form.bpvbedrijf}}
        <br />
        Praktijkopleider: {{form.praktijkopleider}}
        <br />
        Beoordeling: {{form.beoordeling}}
        <br />
        Datum: {{form.datum}}
        </ion-item>
  </ion-list>
</ion-content>
